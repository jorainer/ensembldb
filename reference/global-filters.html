<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Globally add filters to an EnsDb database — addFilter,EnsDb-method • ensembldb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Globally add filters to an EnsDb database — addFilter,EnsDb-method" />
<meta property="og:description" content="These methods allow to set, delete or show globally defined
    filters on an EnsDb object.
addFilter: adds an annotation filter to the EnsDb object.
dropFilter deletes all globally set filters from the
    EnsDb object.
activeFilter returns the globally set filter from an
    EnsDb object.
filter filters an EnsDb object. filter is
    an alias for the addFilter function." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ensembldb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.17.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/ensembldb.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MySQL-backend.html">Using a MySQL server backend</a>
    </li>
    <li>
      <a href="../articles/coordinate-mapping-use-cases.html">Use cases for coordinate mapping with ensembldb</a>
    </li>
    <li>
      <a href="../articles/coordinate-mapping.html">Mapping between genome, transcript and protein coordinates</a>
    </li>
    <li>
      <a href="../articles/proteins.html">Querying protein features</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jorainer/ensembldb/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Globally add filters to an EnsDb database</h1>
    <small class="dont-index">Source: <a href='https://github.com/jorainer/ensembldb/blob/master/R/Methods.R'><code>R/Methods.R</code></a>, <a href='https://github.com/jorainer/ensembldb/blob/master/R/functions-EnsDb.R'><code>R/functions-EnsDb.R</code></a></small>
    <div class="hidden name"><code>global-filters.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These methods allow to set, delete or show globally defined
    filters on an <code><a href='EnsDb-class.html'>EnsDb</a></code> object.</p>
<p><code>addFilter</code>: adds an annotation filter to the <code>EnsDb</code> object.</p>
<p><code>dropFilter</code> deletes all globally set filters from the
    <code>EnsDb</code> object.</p>
<p><code>activeFilter</code> returns the globally set filter from an
    <code>EnsDb</code> object.</p>
<p><code>filter</code> filters an <code>EnsDb</code> object. <code>filter</code> is
    an alias for the <code>addFilter</code> function.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='co'># S4 method for EnsDb</span>
<span class='fu'>addFilter</span><span class='op'>(</span><span class='va'>x</span>, filter <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilterList.html'>AnnotationFilterList</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># S4 method for EnsDb</span>
<span class='fu'>dropFilter</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for EnsDb</span>
<span class='fu'>activeFilter</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>filter</span><span class='op'>(</span><span class='va'>x</span>, filter <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilterList.html'>AnnotationFilterList</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>The <code><a href='EnsDb-class.html'>EnsDb</a></code> object to which the filter should be
added.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>The filter as an
<code><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilter.html'>AnnotationFilter</a></code>,
<code><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilterList.html'>AnnotationFilterList</a></code> or filter
expression. See</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>addFilter</code> and <code>filter</code> return an <code>EnsDb</code> object
    with the specified filter added.</p>
<p><code>activeFilter</code> returns an
    <code><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilterList.html'>AnnotationFilterList</a></code> object being the
    active global filter or <code>NA</code> if no filter was added.</p>
<p><code>dropFilter</code> returns an <code>EnsDb</code> object with all eventually
    present global filters removed.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Adding a filter to an <code>EnsDb</code> object causes this filter to be
    permanently active. The filter will be used for all queries to the
    database and is added to all additional filters passed to the methods
    such as <code><a href='EnsDb-exonsBy.html'>genes</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='Filter-classes.html'>Filter-classes</a></code> for a list of all supported filters.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Johannes Rainer</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>EnsDb.Hsapiens.v86</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>edb</span> <span class='op'>&lt;-</span> <span class='va'>EnsDb.Hsapiens.v86</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Add a global SeqNameFilter to the database such that all subsequent</span></span>
<span class='r-in'><span class='co'>## queries will be applied on the filtered database.</span></span>
<span class='r-in'><span class='va'>edb_y</span> <span class='op'>&lt;-</span> <span class='fu'>addFilter</span><span class='op'>(</span><span class='va'>edb</span>, <span class='fu'><a href='https://rdrr.io/pkg/AnnotationFilter/man/AnnotationFilter.html'>SeqNameFilter</a></span><span class='op'>(</span><span class='st'>"Y"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Note: using the filter function is equivalent to a call to addFilter.</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Each call returns now only features encoded on chromosome Y</span></span>
<span class='r-in'><span class='va'>gns</span> <span class='op'>&lt;-</span> <span class='fu'><a href='EnsDb-exonsBy.html'>genes</a></span><span class='op'>(</span><span class='va'>edb_y</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='EnsDb-class.html'>seqlevels</a></span><span class='op'>(</span><span class='va'>gns</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "Y"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Get all lincRNA gene transcripts on chromosome Y</span></span>
<span class='r-in'><span class='fu'><a href='EnsDb-exonsBy.html'>transcripts</a></span><span class='op'>(</span><span class='va'>edb_y</span>, filter <span class='op'>=</span> <span class='op'>~</span> <span class='va'>gene_biotype</span> <span class='op'>==</span> <span class='st'>"lincRNA"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> GRanges object with 73 ranges and 7 metadata columns:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                   seqnames            ranges strand |           tx_id</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                      &lt;Rle&gt;         &lt;IRanges&gt;  &lt;Rle&gt; |     &lt;character&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611750        Y   2934406-2934771      - | ENST00000611750</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000444263        Y   3002912-3097217      + | ENST00000444263</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000425031        Y   3002998-3102272      + | ENST00000425031</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000426699        Y   4036497-4100320      + | ENST00000426699</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000622595        Y   4993858-4997719      - | ENST00000622595</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>               ...      ...               ...    ... .             ...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000421387        Y 25183643-25184773      - | ENST00000421387</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000427373        Y 25378300-25394719      - | ENST00000427373</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611754        Y 25378671-25391610      - | ENST00000611754</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000306641        Y 25482908-25486705      + | ENST00000306641</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000417334        Y 25728490-25733388      + | ENST00000417334</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                    tx_biotype tx_cds_seq_start tx_cds_seq_end         gene_id</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                   &lt;character&gt;        &lt;integer&gt;      &lt;integer&gt;     &lt;character&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611750     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000278847</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000444263     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000231535</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000425031     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000231535</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000426699     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000229308</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000622595     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000277930</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>               ...         ...              ...            ...             ...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000421387     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000223641</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000427373     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000228786</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611754     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000228786</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000306641     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000240450</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000417334     lincRNA             &lt;NA&gt;           &lt;NA&gt; ENSG00000231141</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                           tx_name gene_biotype</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                       &lt;character&gt;  &lt;character&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611750 ENST00000611750      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000444263 ENST00000444263      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000425031 ENST00000425031      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000426699 ENST00000426699      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000622595 ENST00000622595      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>               ...             ...          ...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000421387 ENST00000421387      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000427373 ENST00000427373      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000611754 ENST00000611754      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000306641 ENST00000306641      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   ENST00000417334 ENST00000417334      lincRNA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   -------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   seqinfo: 1 sequence from GRCh38 genome</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Get the currently active global filter:</span></span>
<span class='r-in'><span class='fu'>activeFilter</span><span class='op'>(</span><span class='va'>edb_y</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> AnnotationFilterList of length 1 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> seq_name == 'Y'</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Delete this filter again.</span></span>
<span class='r-in'><span class='va'>edb_y</span> <span class='op'>&lt;-</span> <span class='fu'>dropFilter</span><span class='op'>(</span><span class='va'>edb_y</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>activeFilter</span><span class='op'>(</span><span class='va'>edb_y</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] NA</span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Johannes Rainer.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


