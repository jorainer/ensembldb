<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map transcript-relative coordinates to genomic coordinates — transcriptToGenome • ensembldb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Map transcript-relative coordinates to genomic coordinates — transcriptToGenome" />
<meta property="og:description" content="transcriptToGenome maps transcript-relative coordinates to genomic
coordinates. Provided coordinates are expected to be relative to the first
nucleotide of the transcript, not the CDS. CDS-relative coordinates
have to be converted to transcript-relative positions first with the
cdsToTranscript() function." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ensembldb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.11.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ensembldb.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MySQL-backend.html">Using a MySQL server backend</a>
    </li>
    <li>
      <a href="../articles/coordinate-mapping-use-cases.html">Use cases for coordinate mapping with ensembldb</a>
    </li>
    <li>
      <a href="../articles/coordinate-mapping.html">Mapping between genome, transcript and protein coordinates</a>
    </li>
    <li>
      <a href="../articles/proteins.html">Querying protein features</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jorainer/ensembldb/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map transcript-relative coordinates to genomic coordinates</h1>
    <small class="dont-index">Source: <a href='https://github.com/jorainer/ensembldb/blob/master/R/transcriptToX.R'><code>R/transcriptToX.R</code></a></small>
    <div class="hidden name"><code>transcriptToGenome.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>transcriptToGenome</code> maps transcript-relative coordinates to genomic
coordinates. Provided coordinates are expected to be relative to the first
nucleotide of the <strong>transcript</strong>, not the <strong>CDS</strong>. CDS-relative coordinates
have to be converted to transcript-relative positions first with the
<code><a href='cdsToTranscript.html'>cdsToTranscript()</a></code> function.</p>
    </div>

    <pre class="usage"><span class='fu'>transcriptToGenome</span>(<span class='no'>x</span>, <span class='no'>db</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"name"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>IRanges</code> with the coordinates within the transcript. Coordinates
are counted from the start of the transcript (including the 5' UTR). The
Ensembl IDs of the corresponding transcripts have to be provided either
as <code>names</code> of the <code>IRanges</code>, or in one of its metadata columns.</p></td>
    </tr>
    <tr>
      <th>db</th>
      <td><p><code>EnsDb</code> object.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p><code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code> specifying where the transcript identifier can be
found. Has to be either <code>"name"</code> or one of <code><a href='https://rdrr.io/r/base/colnames.html'>colnames(mcols(prng))</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>GRangesList</code> with the same length (and order) than the input <code>IRanges</code>
<code>x</code>. Each <code>GRanges</code> in the <code>GRangesList</code> provides the genomic coordinates
corresponding to the provided within-transcript coordinates. The
original transcript ID and the transcript-relative coordinates are provided
as metadata columns as well as the ID of the individual exon(s). An empty
<code>GRanges</code> is returned for transcripts that can not be found in the database.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='cdsToTranscript.html'>cdsToTranscript()</a></code> and <code><a href='transcriptToCds.html'>transcriptToCds()</a></code> for the mapping between
CDS- and transcript-relative coordinates.</p>
<p>Other coordinate mapping functions: 
<code><a href='cdsToTranscript.html'>cdsToTranscript</a>()</code>,
<code><a href='genomeToProtein.html'>genomeToProtein</a>()</code>,
<code><a href='genomeToTranscript.html'>genomeToTranscript</a>()</code>,
<code><a href='proteinToGenome.html'>proteinToGenome</a>()</code>,
<code><a href='proteinToTranscript.html'>proteinToTranscript</a>()</code>,
<code><a href='transcriptToCds.html'>transcriptToCds</a>()</code>,
<code><a href='transcriptToProtein.html'>transcriptToProtein</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>EnsDb.Hsapiens.v86</span>)
<span class='co'>## Restrict all further queries to chromosome x to speed up the examples</span>
<span class='no'>edbx</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='global-filters.html'>filter</a></span>(<span class='no'>EnsDb.Hsapiens.v86</span>, <span class='kw'>filter</span> <span class='kw'>=</span> ~ <span class='no'>seq_name</span> <span class='kw'>==</span> <span class='st'>"X"</span>)

<span class='co'>## Below we map positions 1 to 5 within the transcript ENST00000381578 to</span>
<span class='co'>## the genome. The ID of the transcript has to be provided either as names</span>
<span class='co'>## or in one of the IRanges' metadata columns</span>
<span class='no'>txpos</span> <span class='kw'>&lt;-</span> <span class='fu'>IRanges</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>names</span> <span class='kw'>=</span> <span class='st'>"ENST00000381578"</span>)

<span class='fu'>transcriptToGenome</span>(<span class='no'>txpos</span>, <span class='no'>edbx</span>)</div><div class='output co'>#&gt; GRangesList object of length 1:
#&gt; $ENST00000381578
#&gt; GRanges object with 1 range and 5 metadata columns:
#&gt;       seqnames        ranges strand |         exon_id           tx_id exon_rank
#&gt;          &lt;Rle&gt;     &lt;IRanges&gt;  &lt;Rle&gt; |     &lt;character&gt;     &lt;character&gt; &lt;integer&gt;
#&gt;   [1]        X 624344-624348      + | ENSE00001489178 ENST00000381578         1
#&gt;        tx_start    tx_end
#&gt;       &lt;integer&gt; &lt;integer&gt;
#&gt;   [1]         1         5
#&gt;   -------
#&gt;   seqinfo: 1 sequence from GRCh38 genome
#&gt; </div><div class='input'><span class='co'>## The object returns a GRangesList with the genomic coordinates, in this</span>
<span class='co'>## example the coordinates are within the same exon and map to a single</span>
<span class='co'>## genomic region.</span>

<span class='co'>## Next we map nucleotides 501 to 505 of ENST00000486554 to the genome</span>
<span class='no'>txpos</span> <span class='kw'>&lt;-</span> <span class='fu'>IRanges</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>501</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>505</span>, <span class='kw'>names</span> <span class='kw'>=</span> <span class='st'>"ENST00000486554"</span>)

<span class='fu'>transcriptToGenome</span>(<span class='no'>txpos</span>, <span class='no'>edbx</span>)</div><div class='output co'>#&gt; GRangesList object of length 1:
#&gt; $ENST00000486554
#&gt; GRanges object with 2 ranges and 5 metadata columns:
#&gt;       seqnames              ranges strand |         exon_id           tx_id
#&gt;          &lt;Rle&gt;           &lt;IRanges&gt;  &lt;Rle&gt; |     &lt;character&gt;     &lt;character&gt;
#&gt;   [1]        X 107715899-107715901      - | ENSE00001927337 ENST00000486554
#&gt;   [2]        X 107714748-107714749      - | ENSE00001837666 ENST00000486554
#&gt;       exon_rank  tx_start    tx_end
#&gt;       &lt;integer&gt; &lt;integer&gt; &lt;integer&gt;
#&gt;   [1]         1       501       505
#&gt;   [2]         2       501       505
#&gt;   -------
#&gt;   seqinfo: 1 sequence from GRCh38 genome
#&gt; </div><div class='input'><span class='co'>## The positions within the transcript are located within two of the</span>
<span class='co'>## transcripts exons and thus a `GRanges` of length 2 is returned.</span>

<span class='co'>## Next we map multiple regions, two within the same transcript and one</span>
<span class='co'>## in a transcript that does not exist.</span>
<span class='no'>txpos</span> <span class='kw'>&lt;-</span> <span class='fu'>IRanges</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>501</span>, <span class='fl'>1</span>, <span class='fl'>5</span>), <span class='kw'>end</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>505</span>, <span class='fl'>10</span>, <span class='fl'>6</span>),
    <span class='kw'>names</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ENST00000486554"</span>, <span class='st'>"ENST00000486554"</span>, <span class='st'>"some"</span>))

<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>transcriptToGenome</span>(<span class='no'>txpos</span>, <span class='no'>edbx</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 1 transcript(s) could either not be found in the database or the specified range is outside the transcript's sequence</span></div><div class='input'>
<span class='co'>## The length of the result GRangesList has the same length than the</span>
<span class='co'>## input IRanges</span>
<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>res</span>)</div><div class='output co'>#&gt; [1] 3</div><div class='input'>
<span class='co'>## The result for the last region is an empty GRanges, because the</span>
<span class='co'>## transcript could not be found in the database</span>
<span class='no'>res</span><span class='kw'>[[</span><span class='fl'>3</span>]]</div><div class='output co'>#&gt; GRanges object with 0 ranges and 0 metadata columns:
#&gt;    seqnames    ranges strand
#&gt;       &lt;Rle&gt; &lt;IRanges&gt;  &lt;Rle&gt;
#&gt;   -------
#&gt;   seqinfo: no sequences</div><div class='input'>
<span class='no'>res</span></div><div class='output co'>#&gt; GRangesList object of length 3:
#&gt; $ENST00000486554
#&gt; GRanges object with 2 ranges and 5 metadata columns:
#&gt;       seqnames              ranges strand |         exon_id           tx_id
#&gt;          &lt;Rle&gt;           &lt;IRanges&gt;  &lt;Rle&gt; |     &lt;character&gt;     &lt;character&gt;
#&gt;   [1]        X 107715899-107715901      - | ENSE00001927337 ENST00000486554
#&gt;   [2]        X 107714748-107714749      - | ENSE00001837666 ENST00000486554
#&gt;       exon_rank  tx_start    tx_end
#&gt;       &lt;integer&gt; &lt;integer&gt; &lt;integer&gt;
#&gt;   [1]         1       501       505
#&gt;   [2]         2       501       505
#&gt;   -------
#&gt;   seqinfo: 1 sequence from GRCh38 genome
#&gt; 
#&gt; $ENST00000486554
#&gt; GRanges object with 1 range and 5 metadata columns:
#&gt;       seqnames              ranges strand |         exon_id           tx_id
#&gt;          &lt;Rle&gt;           &lt;IRanges&gt;  &lt;Rle&gt; |     &lt;character&gt;     &lt;character&gt;
#&gt;   [1]        X 107716392-107716401      - | ENSE00001927337 ENST00000486554
#&gt;       exon_rank  tx_start    tx_end
#&gt;       &lt;integer&gt; &lt;integer&gt; &lt;integer&gt;
#&gt;   [1]         1         1        10
#&gt;   -------
#&gt;   seqinfo: 1 sequence from GRCh38 genome
#&gt; 
#&gt; $some
#&gt; GRanges object with 0 ranges and 0 metadata columns:
#&gt;    seqnames    ranges strand
#&gt;       &lt;Rle&gt; &lt;IRanges&gt;  &lt;Rle&gt;
#&gt;   -------
#&gt;   seqinfo: no sequences
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Johannes Rainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


